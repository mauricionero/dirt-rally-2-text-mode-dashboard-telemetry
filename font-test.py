#!/usr/bin/python3

import math
import numpy as np

class Test:
	# pseudo pixel images to generate the bytes for char_byte_map
	FONT_MAP = {
		'3x6': {
			'char_size': [4, 8],
			'chars': [
				'abcdefghijklmnopqrstuvwxyz',
				'ABCDEFGHIJKLMNOPQRSTUVWXYZ',
				"0123456789.:,;(*!?')/-    "
			],
			'data_size': [104, 24],
			'data': '000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000010000000100000100001000010100011000000000000000000000000000000010000000000000000000000000001101100011001100100010001101100000000001010010010101100010011000110101001101110101010101010101010101110101010101000101010101110101010101100001011000100111010101010101010101100110001001010101010100100101000101010101010001010110001000110101001000010101001001010101010101100101010000010010010101010111001000110010001101100011001100110010000101010111000101010111010101010010010000110100011000010011001001010101000101110000000000000000000000000110000000000110000000000000000000000100000100000000000000000000000000000110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010011000100110011101110011010101110001010101000101000100100110001001100011011101010101010101010101011101010101010101010100010001000101001000010101010001110101010101010101010101000010010101010101010101010001011101100100010101100110010101110010000101100100011101110101011001010110001000100101010101110010001000100101010101010101010001000101010100100101010101000101010101010100010101010001001001010111011101010010010001010110001001100111010000110101011100100101011101010100001001000010010101100010011100100101010100100111000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000100010011101010111001101110011001000000000000000000001010100100110001001000001000000000000000000000101011001010001010101000100000101010101000000100000001000100010001000010010001000010000000000000000000001110010000100100111011001100010001000110000000000000000001001110010001000000010001000000000000000000000010100100010000100010001010101000101000100000000000000000010001000000000000000100010011100000000000000000010011101110110000101100010010001100110001000100010001000100101001000100000001001000000000000000000000000000000000000000000000000000000000000000000000001000100000100000000000000000100010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000'
		},
		'4x6': {
			'char_size': [5, 8],
			'chars': [
				'abcdefghijklmnopqrstuvwxyz',
				'ABCDEFGHIJKLMNOPQRSTUVWXYZ',
				"0123456789.:,;(*!?')/-    "
			],
			'data_size': [130, 24],
			'data': '000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000010000000010000000100000010000010100000110000000000000000000000000000000000000010000000000000000000000000000000000000010000000000001000000010100000010000000000000010000001000000000000000000000000000000000000001000000000000000000000000000000000011101110001100011100110001000011101110001100000101010000100101001110001100111000111011100011101110010010010101001010010100101111010010100101000010010101101110010010100100010000010110000010011110100101001010010100101001011000010001001001010100100110010010001001011010010100001001011000010000110010010001000001010100001001001010010100101001010010100000011001000100100101011110011000101001000010101110001100011100110001000100001001001110010101001001110100101001001100111000111010000111000011001110001001111010010001001111000000000000000000000000000000001110000000000000100000000000000000000000000010000000100000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000011001110001100111001111011110011001001001110000101001010000100101001001100111000110011100011000111010010100101001010010010101111010010100101001010010100001000010010100100010000010101001000011110110101001010010100101001010010001001001010010100101001001010000101001011100100001001011100111001000011110001000001011000100001111011010100101001010010100100100000100100101001010010011000101000100111101001010000100101000010000101101001000100000101100010000100101011010010111001001011100001000010010010100101111001100001000100010010100101001010010100001000010010100100010010010101001000010010101101001010000110101010010010001001001001100111101001000100100001001011100011001110011110100000111010010011100110010010111101001010010011001000001100100100110000100011000110010010100100010011110000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000100011001111000100111100110011110011000110000000000000000000000001000000000100001000010001000001000000000000000000000000000010100110010010000100110010000100000001010010100100000001100000000110001000010100010001010001000010000100000000000000000000000000001010001000001001100101001110011100001000110010010000000110000000011000100000100001000001000100001000100000000000000000000000000000101000100001000001011110000101001000100100100111000000000000000000000010000111000100001000000000100010001110000000000000000000000010100010001000100100010010010100100100010010000100110001100001100110001000001000000000000000000010010000000000000000000000000000000100011101111001100001000110001100010000110001100011000110000100010000010001010001000010000000010001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100010000000000000000000000000000000000000000000000000000000000000000'
		},
		'10x13-b': {
			'char_size': [10, 16],
			'chars': [
				'abcdefghijklmnopqrstuvwxyz',
				'ABCDEFGHIJKLMNOPQRSTUVWXYZ',
				"0123456789.:,;(*!?')      "
			],
			'data_size': [260, 48],
			'data': '000000000011000000000000000000000000110000000000000001111000000000000011000000000000000000000000000011000000000111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000110000000000000000000000001100000000000000110011000000000000110000000000000000000000000000110000000000011000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001100000000000000000000000011000000000000001100110000000000001100000000000110000000000011001100000000000110000000000000000000000000000000000000000000000000000000000000000000000000000011000000000000000000000000000000000000000000000000000000000000000000000000000011000000000000000000000000110000000000000011000000000000000011000000000001100000000000110011000000000001100000000000000000000000000000000000000000000000000000000000000000000000000000110000000000000000000000000000000000000000000000000000000000000000000000000000110000000000000000000000001100000000000000110000000000000000110000000000000000000000000000110000000000011000000000000000000000000000000000000000000000000000000000000000000000000000001100000000000000000000000000000000000000000000000000000000000000000000111110001101110000001111100000111011000011110000111111000001111101001101110000011110000000001111001100011000000110000010110110001101110000001111000011011100000011101100110111100001111110001111110000110000110011000011001100001100110000110011000011000111111100011000110011100110000110001100011001110001100110000011000000110001110011100110000001100000000000110011001100000001100000111111110011100110000110011000111001100001100111000111001100110000110000110000001100001100110000110011000011000110011000110000110000000011000000001100110000110011000000001100001100110000110000110000001100011000110000110000011000000000001100110110000000011000001101101100110000110011000011001100001100110000110001100000001100000000001100000011000011000110011000110000110000111100001100001100000001100001111111001100001100110000000011000011001111111100001100000011000110001100001100000110000000000011001111000000000110000011011011001100001100110000110011000011001100001100011000000001111110000011000000110000110001100110001101101100000110000011000011000000110000110000110011000011001100000000110000110011000000000011000000110001100011000011000001100000000000110011111000000001100000110110110011000011001100001100110000110011000011000110000000000000110000110000001100001100001111000011011011000001100000110000110000011000001100001100110000110011000000001100001100110000000000110000000111110000110000110000011000000000001100110011000000011000001101101100110000110011000011001100001100110000110001100000000000001100001100000011000011000011110000110110110000111100001100001100001100000011000011001110011000011000110001100111000110001100001100000011000000001100001100000110000000000011001100011000000110000011011011001100001100011001100011100110000110011100011000000011000011000011001100011001110000011000001111111100011001100001100111000110000000011111010011011100000011111000001110110000111110000011000000011111100011000011001111111100011000110011000011001111111100110110110011000011000011110000110111000000111011000110000000011111100000011110000011101100000110000001100110001100001100001110110001111111000000000000000000000000000000000000000000000000000000000000001100001100000000000000000000000110001100000000000000000000000000000000000000000000000000001100000000000000110000000000000000000000000000000000000000000000000000000000000000000000000000001100000000000000000000000000000000000000000000000000000000000000000000000011000011000000000000000000000001100011000000000000000000000000000000000000000000000000000011000000000000001100000000000000000000000000000000000000000000000000000000000000000000000001100110000000000000000000000000000000000000000000000000000000000000000000000000011111100000000000000000000000001111100000000000000000000000000000000000000000000000000000110000000000000011000000000000000000000000000000000000000000000000000000000000000000000000001111000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000110000011111000000011110000111111000011111111001111111100001111000011000011001111111100000111111011000011001100000000110000110011000011000011110000111111000000111100001111110000001111000011111111001100001100110000110011000011001100001100110000110011111111000011110000110011000001100110001100011000110000000011000000000110011000110000110000011000000000011000110000110011000000001100001100111000110001100110001100011000011001100011000110000110011000000110000011000011001100001100110000110011000011001100001100000000110001100110001100011000110000110011000011001100000000110000000011000011001100001100000110000000000110001100011000110000000011100111001110001100110000110011000011001100001100110000110011000011000001100000110000110011000011001100001100011001100001100110000000001100011001100011000110001100000000110000110011000000001100000000110000000011000011000001100000000001100011000110001100000000111001110011110011001100001100110000110011000011001100001100110000000000011000001100001100110000110011000011000110011000011001100000000110001100001100110001100011000000001100001100110000000011000000001100000000110000110000011000000000011000110011000011000000001111111100111100110011000011001100001100110000110011000011001100000000000110000011000011000110011000110000110000111100000011110000000011000011000011001100110000110000000011000011001100000000110000000011000000001100001100000110000000000110001100110000110000000011011011001101101100110000110011000011001100001100110000110001100000000001100000110000110001100110001101101100001111000000111100000000110000110000110011111100001100000000110000110011111100001111110000110011110011111111000001100000000001100011111000001100000000110110110011011011001100001100110001100011000011001100011000001111000000011000001100001100011001100011011011000001100000000110000000011000001111111100110001100011000000001100001100110000000011000000001100001100110000110000011000000000011000110011000011000000001101101100110011110011000011001111110000110000110011111100000000011000000110000011000011000011110000110110110000111100000001100000001100000011000011001100001100110000000011000011001100000000110000000011000011001100001100000110000000000110001100110000110000000011011011001100111100110000110011000000001100001100110011000000000011000001100000110000110000111100001101101100001111000000011000000011000000110000110011000011001100000000110000110011000000001100000000110000110011000011000001100000110001100011000110001100000000110000110011000111001100001100110000000011011011001100011000000000110000011000001100001100001111000011100111000110011000000110000001100000001100001100110000110011000011001100001100110000000011000000001100001100110000110000011000001100011000110001100011000000001100001100110001110011000011001100000000110011110011000110001100001100000110000011000011000001100000111001110001100110000001100000110000000011000011001100011000011001100011000110001100000000110000000001100111001100001100000110000001101100001100001100110000000011000011001100001100011001100011000000000110011000110000110001100110000001100000011001100000011000001100001100110000110000011000001100000000110000110011111100000011110000111111000011111111001100000000001111010011000011001111111100001110000011000011001111111100110000110011000011000011110000110000000000111110001100001100001111000000011000000011110000000110000011000011001100001100000110000011111111000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001100000000110000000111100000011110000000000100011111111000011110000111111110000111100000011110000000000000000000000000000000000000000000000000110000000000000000110000000111100000001100000011000000000000000000000000000000000000000000000000000000000000000000000111100000011100000011001100001100110000000011000110000000001100110000000001100011001100001100110000000000000000000000000000000000000000000000011000000000000000001100000011001100000011000000011000000000000000000000000000000000000000000000000000000000000000000011001100001111000001100001100110000110000001110001100000000110000100000000011001100001100110000110000000000000000000000000000000000000000000001100000000000000000011000001100001100000110000000011000000000000000000000000000000000000000000000000000000000000000000110011000110110000011000011001100001100000111100011000000001100000000000001100011000011001100001100000000000000000000000000000000000000000000011000000110011000000110000011000011000001100000000110000000000000000000000000000000000000000000000000000000000000000011000011000001100000000000110000000011000011011000110000000011000000000000011000110000110011000011000000000000000000000000000000000000000000001100000001100110000001100000110000110000010000000000110000000000000000000000000000000000000000000000000000000000000000110000110000011000000000001100000001100001100110001101110000110111000000001100000110011000110000110000000000000001110000000000000000011100000011000000001111000000011000000000011000000000000000001100000000000000000000000000000000000000000000000000000000000000001100001100000110000000000110000001110000110001100011100110001110011000000011000000111100000110011100000000000000011100000000000000000111000000110000001111111100000110000000001100000000000000000011000000000000000000000000000000000000000000000000000000000000000011000011000001100000000111000000000110001100011000000000110011000011000001100000011001100000111011000000000000000000000000000000000000000000001100000000111100000001100000000110000000000000000000110000000000000000000000000000000000000000000000000000000000000000110000110000011000000011000000000000110011111111000000001100110000110000011000001100001100000000110000000000000000000000000000000000000000000011000000011001100000011000000001100000000000000000001100000000000000000000000000000000000000000000000000000000000000000110011000000110000001100000001100001100000001100000000011001100001100001100000011000011000000001100000000000000000000000000000000000000000000011000000110011000000110000000011000000000000000000110000000000000000000000000000000000000000000000000000000000000000001100110000001100000110000000011000011000000011000110000110011000011000011000000110000110001000011000001110000000000000000000000000000000000000110000000000000000000000000000000000000000000000001100000000000000000000000000000000000000000000000000000000000000000001111000000011000001100000000011001100000000110000110011000011001100001100000000110011000011001100000011100000001110000000111000000011100000000110000000000000000011000000001100000000000000000110000000000000000000000000000000000000000000000000000000000000000000001100000111111110011111111000011110000000001100000111100000011110000011000000000111100000011110000000111000000011100000001110000000111000000000110000000000000000110000000011000000000000000011000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000111000000011100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000'
		}
	}

	def generate_fonts(self, font_name):
		font_map = self.FONT_MAP[font_name]
		char_c = font_map['char_size'][0]
		char_l = font_map['char_size'][1]

		self.char_byte_map = {}
		c = -1
		l = 0
		matrixx = {}
		for i, b in enumerate(font_map['data']):
			c += 1
			if c >= font_map['data_size'][0]:
				c = 0
				l += 1
			char_c_current_pos = c % char_c
			current_char = font_map['chars'][math.floor(l/char_l)][math.floor(c/char_c)]
			if not current_char in matrixx:
				matrixx[current_char] = []
			if char_c_current_pos == 0:
				try:
					matrixx[current_char][l%char_l] = []
				except:
					matrixx[current_char].append([])
			elif char_c_current_pos == char_c - 1:
				continue
			matrixx[current_char][l%char_l].append(int(b))
		
		trans_matrix = {}
		for char_m in matrixx:
			trans_matrix[char_m] = np.array(matrixx[char_m]).transpose()
		
		bin_matrix = {}
		for char_m in trans_matrix:
			bin_matrix[char_m] = []
			line = -1
			for char_col in trans_matrix[char_m]:
				line += 1
				pos = -1
				for val_pixel in char_col:
					pos += 1
					bin_matrix_pos = (line*math.floor(char_l/8)) + math.floor(pos/8)
					bin_val = val_pixel * 2 ** (pos - math.floor(pos/8) * 8)
					try:
						bin_matrix[char_m][bin_matrix_pos] += bin_val
					except:
						bin_matrix[char_m].append(bin_val)


		# return matrixx
		# return trans_matrix
		return bin_matrix

t = Test()

m = t.generate_fonts('10x13-b')

for c in m['h']:
	print(c)

# for i in range(0, 16, 2):
# 	print(m['K'][i], m['K'][i+1])